@using Termoservis.Models
@using Termoservis.Web.Helpers
@using Termoservis.Web.Models.Customer
@model IEnumerable<WorkItem>
    
<div class="form-group row">
    <div class="col-md-12">
        <table class="table table-hover">
            <thead class="thead-default">
            <tr>
                <th>@Html.DisplayColumnNameFor(Model, model => model.Date)</th>
                <th>@Html.DisplayColumnNameFor(Model, model => model.Price)</th>
                <th>@Html.DisplayColumnNameFor(Model, model => model.Worker)</th>
                <th>@Html.DisplayColumnNameFor(Model, model => model.Description)</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td style="cursor: pointer; color: #1e90ff" colspan="4" data-toggle="collapse" data-target="#workItemEdit-new" class="accordion-toggle">
                    <div>
                        <i class="fa fa-plus-circle" aria-hidden="true"></i>
                        <span>Dodaj novu stavku</span>
                    </div>
                </td>
            </tr>
            <tr>
                <td colspan="4" style="padding: 0 !important; border: none;">
                    <div class="accordion-body collapse" id="workItemEdit-new">
                        @Html.Partial("_WorkItemDetailsPartial", new WorkItemFormViewModel("Create", new WorkItem()))
                    </div>
                </td>
            </tr>
            @if (Model.Any())
            {
                foreach (var workItem in Model.OrderByDescending(item => item.Date))
                {
                    @Html.DisplayFor(model => workItem, "WorkItemTableRow")
                }
            }
            else
            {
                <tr>
                    <td class="text-muted" colspan="5">Korisnik nema stavki</td>
                </tr>
            }
            </tbody>
        </table>
    </div>
</div>
